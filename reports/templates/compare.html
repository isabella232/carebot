{% load staticfiles %}

<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="{% static "reports/bootstrap.min.css" %}" />
        <link rel="stylesheet" type="text/css" href="{% static "reports/report.css" %}" />
    </head>
    <body>
        <div class="container-fluid">
            <h1>Comparing: {{ query.name }} ({{ ndays }}-day{{ ndays|pluralize:"s"}})</h1>
                
            <p class="description">{{ query.description }}</p>

            {% for metric_name, data in results.items %}
            <h4>
                {{ metric_name }}
            </h4>

            <table class="table table-striped table-bordered table-consdensed">
                <thead>
                    <tr>
                        <th>Dimension</th>
                        {% for project in projects %}
                        <th>{{ project.title }}</th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for dimension_name, dimensions in data.items %}
                    <tr class="{% if dimension_name == 'total' %}total{% endif %}">
                        <td>{{ dimension_name }}</td>
                        {% for dimension in dimensions %}
                        <td>{{ dimension.value_formatted }}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% endfor %}
        </div>
    </body>
<html>
